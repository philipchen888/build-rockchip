Build bookworm-uefi sdcard image for orangepi5 plus, rockpi4b and roc-rk3328-cc:

Input files: ../linux/linux/tmp/lib/modules
             ../linux/linux/arch/arm64/boot/Image
             ../linux/linux/arch/arm64/boot/dts/rockchip/rk3328-roc-cc.dtb
             ../linux/linux/arch/arm64/boot/dts/rockchip/rk3588-orangepi-5-plus.dtb
             ../linux/linux/arch/arm64/boot/dtb/rockchip/rk3399-rock-pi-4b.dtb

cd ~/Downloads
wget https://archives.fedoraproject.org/pub/fedora/linux/releases/43/Workstation/aarch64/images/Fedora-Workstation-Disk-43-1.6.aarch64.raw.xz
wget https://mirror.us.mirhosting.net/debian-cd/12.11.0/arm64/iso-cd/debian-12.11.0-arm64-netinst.iso

wget http://http.us.debian.org/debian/dists/bookworm/main/installer-arm64/current/images/netboot/debian-installer/arm64/initrd.gz

cd ~/build-rockchip/bookworm-uefi

Prepare initrd.gz:
mkdir tmp; cd tmp;
sudo gzip -dc ~/Downloads/initrd.gz | sudo cpio -id
sudo cp -r ../../linux/linux/tmp/lib/modules/* lib/modules/
find . | cpio -o -H newc | gzip > ../initrd-patched.gz
cd ../

Plugin NVMe SSD/usb3 stick to PC. 
sudo ./mksdcardimg.sh
sudo mkfs.vfat /dev/sda1
sudo mkfs.ext4 /dev/sda2
sudo fdisk -l /dev/sda
xzcat ~/Downloads/Fedora-Workstation-Disk-43-1.6.aarch64.raw.xz | sudo dd status=progress bs=4096 of=/dev/sda skip=4352 seek=4352 count=640000 conv=notrunc,fsync
sudo e2fsck -f /dev/sda2
sudo resize2fs /dev/sda2
sudo mount /dev/sda2 /mnt
sudo \rm -rf /mnt/boot /mnt/efi /mnt/dtb-* /mnt/init* /mnt/lost+found /mnt/symvers* /mnt/System* /mnt/vmlinuz* /mnt/.vmlinuz* /mnt/config* /mnt/dtb
sudo 7z x ~/Downloads/debian-12.11.0-arm64-netinst.iso -o/mnt && sync;
sudo cp ../linux/linux/arch/arm64/boot/Image /mnt
(roc-rk3328-cc) sudo cp ../linux/linux/arch/arm64/boot/dts/rockchip/rk3328-roc-cc.dtb /mnt
(rockpi4b) sudo cp ../linux/linux/arch/arm64/boot/dts/rockchip/rk3399-rock-pi-4b.dtb /mnt
(opi5+)    sudo cp ../linux/linux/arch/arm64/boot/dts/rockchip/rk3588-orangepi-5-plus.dtb /mnt
sudo cp initrd-patched.gz /mnt/initrd.gz
sudo chmod 755 /mnt/loader/entries
sudo chmod 755 /mnt/loader/entries/*
sudo vi /mnt/loader/entries/*aarch64.conf ( change to
linux /Image
initrd /initrd.gz
(roc-rk3328-cc) devicetree /rk3328-roc-cc.dtb
(rockpi4b)      devicetree /rk3399-rock-pi-4b.dtb
(opi5+)         devicetree /rk3588-orangepi-5-plus.dtb
delete options
)
sync; sudo umount /mnt;
sudo mount /dev/sda1 /mnt
sudo rm -rf /mnt/b* /mnt/c* /mnt/f* /mnt/o* /mnt/r* /mnt/s* && sync && sudo umount /mnt
Eject NVMe SSD/usb3 stick from PC.

Plugin sdcard, usb3 stick and ethernet cable to roc-rk3328-cc. Power on roc-rk3328-cc.
Plugin NVMe SSD and ethernet cable to opi5+/rockpi4b. Power on opi5+/rockpi4b.

loading missing firmware? No
Set User name: linaro
(opi5+) select bottom ethernet.
Install without kernel modules ( yes )
Partition ( Manual, select space, auto partion, all, finish, Yes )
Select debian desktop and gnome in addition to ssh and standard system utilities.

(rockpi4b, roc-rk3328-cc) Force GRUB to install to the EFI ( Yes )
(rockpi4b, roc-rk3328-cc) Update NVMRAM to boot Debian ( Yes )
(rockpi4b, roc-rk3328-cc) Stuck at Unable to install GRUB in dummy.
(rockpi4b, roc-rk3328-cc) Continue without bootloader.
Power off opi5+/rockpi4b/roc-rk3328-cc when installation completed. Remove NVMe SSD/usb3 stick.

Plugin NVMe SSD/usb3 stick to PC.
sudo fdisk -l /dev/sda
sudo e2label /dev/sda3 rootfs
sudo blkid /dev/sda1 ( write down UUID )
sudo blkid /dev/sda3 ( write down UUID )
sudo mount /dev/sda3 /mnt
sudo cp -r ../linux/linux/tmp/lib/modules/* /mnt/lib/modules
sudo cp -r ../linux/linux/tmp/boot/* /mnt/boot
ls -la /mnt/boot
sudo touch /mnt/boot/grub/grub.cfg
sudo vi /mnt/boot/grub/grub.cfg ( delete everything, add
set timeout=5
set default="Boot UUID"
set menu_color_normal=white/black
set menu_color_highlight=white/green

menuentry "Boot UUID" {
    search --no-floppy --fs-uuid --set=root 4817ba5f-fb50-43b1-9f8c-fa25047a570d
    echo    'Loading Linux 6.18.0-dirty ...'
    linux /boot/vmlinuz-6.18.0-dirty root=LABEL=rootfs rootwait rw rootdelay=10
    echo    'Loading initial ramdisk ...'
    initrd /boot/initrd.img-6.1.0-41-arm64
    devicetree /boot/dtb/rockchip/rk3588-orangepi-5-plus.dtb
}
)
Note: update above UUID, devicetree accordingly. Change to rootdelay=50 for roc-rk3328-cc.
sudo vi /mnt/etc/fstab ( check UUID for /boot/efi )
(opi5+) sudo mkdir -p /mnt/lib/firmware/arm/mali/arch10.8/
(opi5+) sudo rm -f /mnt/lib/firmware/arm/mali/arch10.8/*
(opi5+) sudo wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/arm/mali/arch10.8/mali_csffw.bin -P /mnt/lib/firmware/arm/mali/arch10.8/
(opi5+) sudo chmod 644 /mnt/lib/firmware/arm/mali/arch10.8/mali_csffw.bin
(opi5+) sudo echo "panthor" | sudo tee /mnt/etc/modules-load.d/panthor.conf
sudo mkdir -p /mnt/lib/firmware/brcm
sudo cp ./packages/* /mnt/lib/firmware/brcm
sync; sudo umount /mnt;
sudo mount /dev/sda1 /mnt
sudo \rm -rf /mnt/EFI/fedora
sync; sudo umount /mnt;
Eject NVMe SSD/usb3 stick from PC.

(rockpi4b) Remove ethernet cable.
Plugin sdcard, usb3 stick and ethernet cable to roc-rk3328-cc. Power on roc-rk3328-cc.
Plugin NVMe SSD to opi5+/rockpi4b. Plugin ethernet cable to opi5+. Power on opi5+/rockpi4b.
(rockpi4b) Setup wifi.
Disable power saving, auto suspend and screen saver.
su -
usermod -aG adm,sudo,video linaro
sync
reboot

sudo apt install net-tools openssh-server pulseaudio-utils
sudo ifconfig
df .
uname -a
lsb_release -a
date
sudo vi /etc/apt/sources.list ( add non-free-firmware to 3 deb )
sudo apt update; sudo apt upgrade -y;
sudo apt install firmware-realtek
sync
free

Install mesa 25:
su -
export DEBIAN_FRONTEND=noninteractive
echo "deb http://deb.debian.org/debian bookworm-backports main" > /etc/apt/sources.list.d/backports.list
apt update
apt install -t bookworm-backports -y --no-install-recommends mesa-vulkan-drivers mesa-va-drivers libgl1-mesa-dri libglx-mesa0 libegl-mesa0 libgbm1 libgles2-mesa
ldconfig
exit
sync
sudo update-initramfs -u -k $(uname -r)
sudo vi /boot/grub/grub.cfg ( change to:
   initrd /boot/initrd.img-6.18.0-dirty
)
sync
sudo reboot

uname -a
lsb_release -a
Check if Debian is running UEFI mode:
ls /sys/firmware/efi

sudo apt install flex bison libelf-dev libssl-dev build-essential libncurses-dev git speedtest-cli glmark2-es2-wayland mpv ffmpeg python3-pip python3-setuptools pavucontrol zip rfkill vlc vlc-plugin-video-output vsftpd

speedtest-cli --secure

glmark2-es2-wayland

aplay -l
pavucontrol  ( select hdmi as default )

firefox -> youtube -> search YmDNhi07_Ho

Do follows on PC, then ftp swan.mp4 to opi5+/rockpi4b/roc-rk3328-cc.
(
git clone https://github.com/yt-dlp/yt-dlp.git
cd yt-dlp
make
cd ../
(roc-rk3328-cc) ~/yt-dlp/yt-dlp -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]' 3qrKjywjo7Q -o swan.mp4 --postprocessor-args " -r 10 -c:v libx264 -b:v 2M -c:a copy"
(rockpi4b) ~/yt-dlp/yt-dlp -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]' 3qrKjywjo7Q -o swan.mp4 --postprocessor-args " -c:v libx264 -b:v 2M -c:a copy"
(opi5+)    ~/yt-dlp/yt-dlp -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]' 3qrKjywjo7Q -o swan.mp4 --postprocessor-args " -c:v libx265 -b:v 2M -c:a copy"
)

mpv --hwdec=auto-copy swan.mp4
ffplay swan.mp4
cvlc --gl=wgl --glconv=any swan.mp4

(opi5+, roc-rk3328-cc) Plugin ASUS USB-BT500 bluetooth usb dongle to opi5+/roc-rk3328-cc.
sudo rfkill list
hciconfig hci0
hcitool dev
hciconfig -a
